<div class="class-modal">
    <div class="modal-header">
        <h3 class="modal-title" id="modal-title">Edit {{ctrl.$resolve.student.name}}</h3>
    </div>
    <div class="modal-body" id="modal-body">
        
        <div class="col-sm-12">
        <form class="form" name="form" ng-submit="ctrl.register(form)" novalidate>
            <div hidden class="form-group" ng-class="{ 'has-success': form.name.$valid && ctrl.submitted,
                                                'has-error': form.name.$invalid && ctrl.submitted }">
                    <div class="radio">
                    <label><input type="radio" name="type" value="student" ng-model="ctrl.user.type" selected>Student</label>
                    </div>
            </div>
            <div class="form-group" ng-class="{ 'has-success': form.name.$valid && ctrl.submitted,
                                                'has-error': form.name.$invalid && ctrl.submitted }">
            <label>Name</label>

            <input type="text" name="name" class="form-control" ng-model="ctrl.user.name"
                    required/>
            <p class="help-block" ng-show="form.name.$error.required && ctrl.submitted">
                A name is required
            </p>
            </div>

            <div class="form-group" ng-class="{ 'has-success': form.email.$valid && ctrl.submitted,
                                                'has-error': form.email.$invalid && ctrl.submitted }">
            <label>Email</label>

            <input type="email" name="email" class="form-control" ng-model="ctrl.user.email"
                    required
                    mongoose-error/>
            <p class="help-block" ng-show="form.email.$error.required && ctrl.submitted">
                What's your email address?
            </p>
            <p class="help-block" ng-show="form.email.$error.mongoose">
                {{ ctrl.errors.email }}
            </p>
            </div>
            <div class="form-group" ng-if="ctrl.user.type=='student'">
                <label>Gender</label>

                <select ng-model="ctrl.user.gender" class="form-control">
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>

            </div>
            <div class="form-group" ng-if="ctrl.user.type=='student'">
                <label>Grade</label>
                <select ng-model="ctrl.user.grade" class="form-control">
                    <option value="1">1st</option>
                    <option value="2">2nd</option>
                    <option value="3">3rd</option>
                    <option value="4">4th</option>
                    <option value="5">5th</option>
                    <option value="6">6th</option>
                    <option value="7">7th</option>
                    <option value="8">8th</option>
                    <option value="9">9th</option>
                    <option value="10">10th</option>
                    <option value="11">11th</option>
                    <option value="12">12th</option>
                </select>

            </div>
            <div class="form-group" ng-if="ctrl.user.type=='student'">
                <label>Community</label>
                <input type="text" class="form-control" ng-model="ctrl.user.community"/>

            </div>
            <div class="form-group" ng-if="ctrl.user.type=='student'">
                <label>Primary Language</label>
                <input type="text" class="form-control" ng-model="ctrl.user.primaryLanguage"/>

            </div>
            <div class="form-group" ng-class="{ 'has-success': form.password.$valid && ctrl.submitted,
                                                'has-error': form.password.$invalid && ctrl.submitted }">
            <label>Password</label>

            <input type="password" name="password" class="form-control" ng-model="ctrl.user.password"
                    ng-minlength="3"
                    required
                    mongoose-error/>
            <p class="help-block"
                ng-show="(form.password.$error.minlength || form.password.$error.required) && ctrl.submitted">
                Password must be at least 3 characters.
            </p>
            <p class="help-block" ng-show="form.password.$error.mongoose">
                {{ ctrl.errors.password }}
            </p>
            </div>

            <div class="form-group" ng-class="{ 'has-success': form.confirmPassword.$valid && ctrl.submitted,
                                                'has-error': form.confirmPassword.$invalid && ctrl.submitted }">
            <label>Confirm Password</label>
            <input type="password" name="confirmPassword" class="form-control" ng-model="ctrl.user.confirmPassword"
                    match="ctrl.user.password"
                    ng-minlength="3" required/>
            <p class="help-block"
                ng-show="form.confirmPassword.$error.match && ctrl.submitted">
                Passwords must match.
            </p>
            </div>
            <div ng-repeat="error in ctrl.errors" style="color:red;">
                *{{error.message}}
            </div>
            <div>
            <button class="btn btn-default btn-register" type="submit">
                Add Student
            </button>
            </div>

            <hr/>
            <div ng-if="ctrl.studentAdded">{{ctrl.studentAdded}} Added</div>
        </form>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="ctrl.close()">Close</button>
    </div>
</div>
